@{
    ViewData["Title"] = "資料匯入";
}

<h1>資料匯入</h1>

<!-- 顯示成功或錯誤訊息 -->
@if (TempData["Success"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["Success"]
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        @TempData["Error"]
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}

<div class="row">
    <!-- 匯入分類 -->
    <div class="col-md-6">
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                匯入分類
            </div>
            <div class="card-body">
                <form asp-area="Books"
                      asp-controller="Import"
                      asp-action="Index"
                      method="post"
                      enctype="multipart/form-data">
                    @Html.AntiForgeryToken()
                    <div class="form-group">
                        <label>選擇 CSV / JSON 檔案：</label>
                        <input type="file" name="file" class="form-control" />
                    </div>
                    <div class="form-group mt-3">
                        <input type="submit" value="上傳並預覽分類" class="btn btn-primary" />
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 匯入書籍 -->
    <div class="col-md-6">
        <div class="card mb-4">
            <div class="card-header bg-success text-white">
                匯入書籍
            </div>
            <div class="card-body">
                <form asp-area="Books"
                      asp-controller="Import"
                      asp-action="IndexBooks"
                      method="post"
                      enctype="multipart/form-data">
                    @Html.AntiForgeryToken()
                    <div class="form-group">
                        <label>選擇 CSV / JSON 檔案：</label>
                        <input type="file" name="file" class="form-control" />
                    </div>
                    <div class="form-group mt-3">
                        <input type="submit" value="上傳並預覽書籍" class="btn btn-success" />
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <!-- 確保 Bootstrap 的 JS 有載入，不然 alert 的關閉按鈕沒作用 -->
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
}
